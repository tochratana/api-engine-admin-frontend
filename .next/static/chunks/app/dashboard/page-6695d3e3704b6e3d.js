(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{34039:function(e,t,s){Promise.resolve().then(s.bind(s,92858))},92858:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return I}});var r=s(57437),a=s(66070),n=s(95805),i=s(56475),c=s(86595),l=s(84428),o=s(70525),d=s(42488),u=s(81175),x=s(592),m=s(39667),h=s(98272),g=s(47625),p=s(21156),j=s(56940),v=s(97059),f=s(2027),y=s(78155),b=s(52797);function N(){let{data:e=[],isLoading:t}=(0,x.Cx)(),s=(()=>{if(!e.length)return[];let t=new Map,s=new Date;for(let e=29;e>=0;e--){let r=new Date(s.getFullYear(),s.getMonth(),s.getDate()-e),a=r.toLocaleDateString("en-US",{month:"short",day:"numeric"}),n=r.toDateString();t.set(n,{day:a,users:0,newUsers:0,date:r})}e.forEach(e=>{let s=new Date(e.createdTimestamp).toDateString();if(t.has(s)){let e=t.get(s);e.newUsers+=1}});let r=0;return Array.from(t.values()).sort((e,t)=>e.date-t.date).map(e=>(r+=e.newUsers,{day:e.day,users:r,newUsers:e.newUsers}))})();return t?(0,r.jsxs)(a.Zb,{children:[(0,r.jsx)(a.Ol,{children:(0,r.jsxs)(a.ll,{className:"flex items-center space-x-2",children:[(0,r.jsx)(o.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"User Growth (Daily)"})]})}),(0,r.jsx)(a.aY,{children:(0,r.jsx)("div",{className:"h-[300px] flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-muted-foreground",children:"Loading chart data..."})})})]}):(0,r.jsxs)(a.Zb,{children:[(0,r.jsx)(a.Ol,{children:(0,r.jsxs)(a.ll,{className:"flex items-center space-x-2",children:[(0,r.jsx)(o.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"User Growth (Daily)"})]})}),(0,r.jsx)(a.aY,{children:(0,r.jsx)(g.h,{width:"100%",height:300,children:(0,r.jsxs)(p.w,{data:s,children:[(0,r.jsx)(j.q,{strokeDasharray:"3 3",className:"stroke-muted"}),(0,r.jsx)(v.K,{dataKey:"day",className:"text-muted-foreground",fontSize:10,angle:-45,textAnchor:"end",height:60,interval:"preserveStartEnd"}),(0,r.jsx)(f.Q,{className:"text-muted-foreground",fontSize:12}),(0,r.jsx)(y.u,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--card-foreground))"}}),(0,r.jsx)(b.x,{type:"monotone",dataKey:"users",stroke:"hsl(var(--chart-1))",strokeWidth:2,dot:{fill:"hsl(var(--chart-1))",strokeWidth:2,r:4},name:"Total Users"}),(0,r.jsx)(b.x,{type:"monotone",dataKey:"newUsers",stroke:"hsl(var(--chart-2))",strokeWidth:2,dot:{fill:"hsl(var(--chart-2))",strokeWidth:2,r:4},name:"New Users"})]})})})]})}var w=s(86810),R=s(10062),S=s(20407),T=s(53250),U=s(51817);function k(){let{data:e=[],isLoading:t,error:s}=(0,m.EE)(),n=(()=>{if(!e.length)return[];let t=e.reduce((e,t)=>{let s=t.status||"unknown";return e[s]=(e[s]||0)+1,e},{}),s={active:"hsl(var(--chart-1))",completed:"hsl(var(--chart-2))",inactive:"hsl(var(--chart-3))",archived:"hsl(var(--chart-4))",unknown:"hsl(var(--chart-5))"};return Object.entries(t).map(e=>{let[t,r]=e;return{name:t.charAt(0).toUpperCase()+t.slice(1),value:r,color:s[t]||"hsl(var(--muted))"}})})();return t?(0,r.jsxs)(a.Zb,{children:[(0,r.jsx)(a.Ol,{children:(0,r.jsxs)(a.ll,{className:"flex items-center space-x-2",children:[(0,r.jsx)(i.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Project Status Distribution"})]})}),(0,r.jsx)(a.aY,{children:(0,r.jsx)("div",{className:"flex items-center justify-center h-[300px]",children:(0,r.jsx)(U.Z,{className:"h-8 w-8 animate-spin"})})})]}):s?(0,r.jsxs)(a.Zb,{children:[(0,r.jsx)(a.Ol,{children:(0,r.jsxs)(a.ll,{className:"flex items-center space-x-2",children:[(0,r.jsx)(i.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Project Status Distribution"})]})}),(0,r.jsx)(a.aY,{children:(0,r.jsx)("div",{className:"flex items-center justify-center h-[300px]",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Failed to load project data"})})})]}):n.length?(0,r.jsxs)(a.Zb,{children:[(0,r.jsx)(a.Ol,{children:(0,r.jsxs)(a.ll,{className:"flex items-center space-x-2",children:[(0,r.jsx)(i.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Project Status Distribution"})]})}),(0,r.jsx)(a.aY,{children:(0,r.jsx)(g.h,{width:"100%",height:300,children:(0,r.jsxs)(w.u,{children:[(0,r.jsx)(R.b,{data:n,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:n.map((e,t)=>(0,r.jsx)(S.b,{fill:e.color},"cell-".concat(t)))}),(0,r.jsx)(y.u,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--card-foreground))"}}),(0,r.jsx)(T.D,{wrapperStyle:{paddingTop:"20px",fontSize:"14px"}})]})})})]}):(0,r.jsxs)(a.Zb,{children:[(0,r.jsx)(a.Ol,{children:(0,r.jsxs)(a.ll,{className:"flex items-center space-x-2",children:[(0,r.jsx)(i.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Project Status Distribution"})]})}),(0,r.jsx)(a.aY,{children:(0,r.jsx)("div",{className:"flex items-center justify-center h-[300px]",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"No projects found"})})})]})}var P=s(5481),D=s(88822),A=s(65613),Z=s(94508);function q(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"skeleton",className:(0,Z.cn)("bg-accent animate-pulse rounded-md",t),...s})}var L=s(82431),E=s(62869),z=s(2265);function O(){var e;let{data:t,isLoading:s,error:n,refetch:i}=(0,h.xG)({size:1e3}),l=(0,z.useMemo)(()=>{if(!(null==t?void 0:t.ratings))return[];let e={},s=[],r=new Date;for(let t=5;t>=0;t--){let a=new Date(r.getFullYear(),r.getMonth()-t,1),n="".concat(a.getFullYear(),"-").concat(String(a.getMonth()+1).padStart(2,"0")),i=a.toLocaleDateString("en-US",{month:"short"});s.push({month:i,avgRating:0,totalRatings:0,date:a}),e[n]={ratings:[],count:0}}return t.ratings.forEach(t=>{let s=t.createdAt?new Date(t.createdAt):new Date,r="".concat(s.getFullYear(),"-").concat(String(s.getMonth()+1).padStart(2,"0"));e[r]&&(e[r].ratings.push(t.rating||t.star),e[r].count++)}),s.map(t=>{let s=e["".concat(t.date.getFullYear(),"-").concat(String(t.date.getMonth()+1).padStart(2,"0"))];if(s.count>0){let e=s.ratings.reduce((e,t)=>e+t,0)/s.count;return{...t,avgRating:Number(e.toFixed(1)),totalRatings:s.count}}return t})},[t]),d=(0,z.useMemo)(()=>{if(l.length<2)return null;let e=l[l.length-1],t=l[l.length-2],s=e.avgRating-t.avgRating,r=e.totalRatings-t.totalRatings;return{ratingTrend:Number(s.toFixed(1)),volumeTrend:r,isRatingUp:s>0,isVolumeUp:r>0}},[l]),u=()=>{i()};return s?(0,r.jsxs)(a.Zb,{children:[(0,r.jsx)(a.Ol,{children:(0,r.jsxs)(a.ll,{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Rating Trends"})]})}),(0,r.jsx)(a.aY,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(q,{className:"h-4 w-full"}),(0,r.jsx)(q,{className:"h-4 w-3/4"}),(0,r.jsx)(q,{className:"h-[300px] w-full"})]})})]}):n?(0,r.jsxs)(a.Zb,{children:[(0,r.jsx)(a.Ol,{children:(0,r.jsxs)(a.ll,{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Rating Trends"})]}),(0,r.jsx)(E.z,{variant:"outline",size:"sm",onClick:u,children:(0,r.jsx)(L.Z,{className:"h-4 w-4"})})]})}),(0,r.jsx)(a.aY,{children:(0,r.jsx)(A.bZ,{variant:"destructive",children:(0,r.jsx)(A.X,{children:"Failed to load rating trends data. Please try refreshing."})})})]}):(0,r.jsxs)(a.Zb,{children:[(0,r.jsx)(a.Ol,{children:(0,r.jsxs)(a.ll,{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Rating Trends"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[d&&(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(o.Z,{className:"h-3 w-3 ".concat(d.isRatingUp?"text-green-500":"text-red-500")}),(0,r.jsxs)("span",{className:d.isRatingUp?"text-green-600":"text-red-600",children:[d.isRatingUp?"+":"",d.ratingTrend]})]}),(0,r.jsxs)("div",{className:"text-xs",children:[d.volumeTrend>0?"+":"",d.volumeTrend," reviews"]})]}),(0,r.jsx)(E.z,{variant:"outline",size:"sm",onClick:u,children:(0,r.jsx)(L.Z,{className:"h-4 w-4"})})]})]})}),(0,r.jsxs)(a.aY,{children:[0===l.length?(0,r.jsx)("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(c.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,r.jsx)("p",{children:"No rating data available"}),(0,r.jsx)("p",{className:"text-sm",children:"Start collecting reviews to see trends"})]})}):(0,r.jsx)(g.h,{width:"100%",height:300,children:(0,r.jsxs)(P.T,{data:l,margin:{top:20,right:30,left:20,bottom:5},children:[(0,r.jsx)(j.q,{strokeDasharray:"3 3",className:"stroke-muted"}),(0,r.jsx)(v.K,{dataKey:"month",className:"text-muted-foreground",fontSize:12,tick:{fill:"hsl(var(--muted-foreground))"}}),(0,r.jsx)(f.Q,{domain:[0,5],className:"text-muted-foreground",fontSize:12,tick:{fill:"hsl(var(--muted-foreground))"}}),(0,r.jsx)(y.u,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--card-foreground))"},formatter:(e,t)=>"avgRating"===t?["".concat(e,"/5"),"Average Rating"]:[e,"Total Ratings"],labelFormatter:e=>"Month: ".concat(e)}),(0,r.jsx)(D.uN,{type:"monotone",dataKey:"avgRating",stroke:"hsl(var(--chart-1, 220 70% 50%))",fill:"hsl(var(--chart-1, 220 70% 50%))",fillOpacity:.3,strokeWidth:2}),(0,r.jsx)(D.uN,{type:"monotone",dataKey:"totalRatings",stroke:"hsl(var(--chart-2, 160 60% 45%))",fill:"hsl(var(--chart-2, 160 60% 45%))",fillOpacity:.1,strokeWidth:1,yAxisId:"right"})]})}),l.length>0&&(0,r.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Total Reviews"}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:l.reduce((e,t)=>e+t.totalRatings,0)})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Average Rating"}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:l.length>0?(l.reduce((e,t)=>e+t.avgRating,0)/l.filter(e=>e.avgRating>0).length||0).toFixed(1):"0.0"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"This Month"}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:(null===(e=l[l.length-1])||void 0===e?void 0:e.totalRatings)||0})]})]})]})]})}var _=s(77031),C=s(40626);let B=[{category:"Projects",used:12.5,quota:20},{category:"Users",used:3.2,quota:5},{category:"System",used:8.7,quota:15},{category:"Backups",used:15.3,quota:25},{category:"Temp",used:2.1,quota:5}];function Y(){return(0,r.jsxs)(a.Zb,{children:[(0,r.jsx)(a.Ol,{children:(0,r.jsxs)(a.ll,{className:"flex items-center space-x-2",children:[(0,r.jsx)(l.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Storage Usage by Category"})]})}),(0,r.jsx)(a.aY,{children:(0,r.jsx)(g.h,{width:"100%",height:300,children:(0,r.jsxs)(_.v,{data:B,children:[(0,r.jsx)(j.q,{strokeDasharray:"3 3",className:"stroke-muted"}),(0,r.jsx)(v.K,{dataKey:"category",className:"text-muted-foreground",fontSize:12}),(0,r.jsx)(f.Q,{className:"text-muted-foreground",fontSize:12}),(0,r.jsx)(y.u,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",color:"hsl(var(--card-foreground))"},formatter:(e,t)=>["".concat(e," GB"),"used"===t?"Used":"Quota"]}),(0,r.jsx)(C.$,{dataKey:"used",fill:"hsl(var(--chart-1))",radius:[4,4,0,0],name:"Used"}),(0,r.jsx)(C.$,{dataKey:"quota",fill:"hsl(var(--chart-2))",radius:[4,4,0,0],opacity:.3,name:"Quota"})]})})})]})}let M=()=>{let e=Array.from({length:24},(e,t)=>t);return["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(t=>({day:t,hours:e.map(e=>({hour:e,activity:Math.floor(5*Math.random())}))}))};function F(){let e=M(),t=e=>{switch(e){case 0:default:return"bg-muted";case 1:return"bg-chart-1/20";case 2:return"bg-chart-1/40";case 3:return"bg-chart-1/60";case 4:return"bg-chart-1/80"}};return(0,r.jsxs)(a.Zb,{children:[(0,r.jsx)(a.Ol,{children:(0,r.jsxs)(a.ll,{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Activity Heatmap (Last 7 Days)"})]})}),(0,r.jsx)(a.aY,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground mb-4",children:[(0,r.jsx)("span",{children:"12 AM"}),(0,r.jsx)("div",{className:"flex-1 grid grid-cols-12 gap-1",children:Array.from({length:12},(e,t)=>(0,r.jsx)("div",{className:"text-center",children:2*t||"12"},t))}),(0,r.jsx)("span",{children:"11 PM"})]}),e.map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-8 text-xs text-muted-foreground",children:e.day}),(0,r.jsx)("div",{className:"flex-1 grid grid-cols-24 gap-1",children:e.hours.map(s=>(0,r.jsx)("div",{className:(0,Z.cn)("h-3 rounded-sm",t(s.activity)),title:"".concat(e.day," ").concat(s.hour,":00 - Activity Level: ").concat(s.activity)},s.hour))})]},e.day)),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground mt-4",children:[(0,r.jsx)("span",{children:"Less"}),(0,r.jsx)("div",{className:"flex space-x-1",children:[0,1,2,3,4].map(e=>(0,r.jsx)("div",{className:(0,Z.cn)("w-3 h-3 rounded-sm",t(e))},e))}),(0,r.jsx)("span",{children:"More"})]})]})})]})}function I(){let{user:e}=(0,u.C)(e=>e.auth),{data:t=[],isLoading:s}=(0,x.Cx)(),{data:g=[],isLoading:p}=(0,m.EE)(),{data:j,isLoading:v}=(0,h.xG)({size:100}),f=(null==j?void 0:j.ratings)||[],y=t.length,b=t.filter(e=>e.enabled).length,w=g.length,R=g.filter(e=>"active"===e.status).length,S=(null==j?void 0:j.totalRatings)||f.length,T=f.length>0?f.reduce((e,t)=>e+(t.rating||t.star||0),0)/f.length:0,U=g.reduce((e,t)=>e+(t.storageUsed||0),0),P=[{title:"Total Users",value:y.toLocaleString(),icon:n.Z,change:"".concat(b," active"),changeType:"positive",isLoading:s},{title:"Active Projects",value:R.toLocaleString(),icon:i.Z,change:"".concat(w," total"),changeType:"positive",isLoading:p},{title:"Average Rating",value:T.toFixed(1),icon:c.Z,change:"".concat(S," reviews"),changeType:T>=4?"positive":T>=3?"neutral":"negative",isLoading:v},{title:"Storage Used",value:"".concat(U.toFixed(1)," GB"),icon:l.Z,change:"".concat(g.length," projects"),changeType:"neutral",isLoading:p}],D=[...t.slice(0,2).map(e=>({action:"New user registered",time:e.createdTimestamp?new Date(e.createdTimestamp).toLocaleDateString():"Recently",user:e.email||e.username||"Unknown user"})),...g.slice(0,2).map(e=>{var t,s;return{action:"Project created",time:e.createdAt?new Date(e.createdAt).toLocaleDateString():"Recently",user:(null===(t=e.owner)||void 0===t?void 0:t.email)||(null===(s=e.owner)||void 0===s?void 0:s.username)||"Unknown"}}),...f.slice(0,3).map(e=>{var t,s;return{action:"".concat(e.rating||e.star,"-star rating submitted"),time:e.createdAt?new Date(e.createdAt).toLocaleDateString():"Recently",user:(null===(t=e.user)||void 0===t?void 0:t.email)||(null===(s=e.user)||void 0===s?void 0:s.name)||e.username||"Unknown user"}})].sort((e,t)=>{let s=new Date("Recently"===e.time?Date.now():e.time);return new Date("Recently"===t.time?Date.now():t.time).getTime()-s.getTime()}).slice(0,6);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-foreground",children:["Welcome back, ",(null==e?void 0:e.name)||"Admin","!"]}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Here's what's happening with your projects today."})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:P.map(e=>(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(a.ll,{className:"text-sm font-medium text-muted-foreground",children:e.title}),(0,r.jsx)(e.icon,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(a.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-foreground",children:e.isLoading?(0,r.jsx)("div",{className:"h-8 w-16 bg-muted animate-pulse rounded"}):e.value}),(0,r.jsxs)("div",{className:"flex items-center space-x-1 text-xs",children:[(0,r.jsx)(o.Z,{className:"h-3 w-3 text-accent"}),(0,r.jsx)("span",{className:"".concat("positive"===e.changeType?"text-green-600":"negative"===e.changeType?"text-red-600":"text-muted-foreground"),children:e.isLoading?(0,r.jsx)("div",{className:"h-3 w-12 bg-muted animate-pulse rounded"}):e.change})]})]})]},e.title))}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)(N,{}),(0,r.jsx)(k,{})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)(O,{}),(0,r.jsx)(Y,{})]}),(0,r.jsx)(F,{}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(a.Zb,{children:[(0,r.jsx)(a.Ol,{children:(0,r.jsxs)(a.ll,{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Recent Activity"})]})}),(0,r.jsx)(a.aY,{children:(0,r.jsx)("div",{className:"space-y-4",children:s||p||v?Array.from({length:4}).map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-muted animate-pulse rounded-full"}),(0,r.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,r.jsx)("div",{className:"h-4 w-32 bg-muted animate-pulse rounded"}),(0,r.jsx)("div",{className:"h-3 w-24 bg-muted animate-pulse rounded"})]})]},t)):D.length>0?D.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-accent rounded-full flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-foreground truncate",children:e.action}),(0,r.jsxs)("p",{className:"text-muted-foreground text-xs truncate",children:[e.user," • ",e.time]})]})]},t)):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(d.Z,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2 opacity-50"}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm",children:"No recent activity found"}),(0,r.jsx)("p",{className:"text-muted-foreground text-xs",children:"Activity will appear here as users interact with your system"})]})})})]}),(0,r.jsxs)(a.Zb,{children:[(0,r.jsx)(a.Ol,{children:(0,r.jsx)(a.ll,{children:"Quick Actions"})}),(0,r.jsx)(a.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("button",{className:"p-4 border border-border rounded-lg hover:bg-muted transition-colors text-left group",children:[(0,r.jsx)(n.Z,{className:"h-6 w-6 text-accent mb-2 group-hover:scale-110 transition-transform"}),(0,r.jsx)("p",{className:"font-medium text-foreground",children:"Manage Users"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"View and edit users"})]}),(0,r.jsxs)("button",{className:"p-4 border border-border rounded-lg hover:bg-muted transition-colors text-left group",children:[(0,r.jsx)(i.Z,{className:"h-6 w-6 text-accent mb-2 group-hover:scale-110 transition-transform"}),(0,r.jsx)("p",{className:"font-medium text-foreground",children:"View Projects"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Browse all projects"})]}),(0,r.jsxs)("button",{className:"p-4 border border-border rounded-lg hover:bg-muted transition-colors text-left group",children:[(0,r.jsx)(c.Z,{className:"h-6 w-6 text-accent mb-2 group-hover:scale-110 transition-transform"}),(0,r.jsx)("p",{className:"font-medium text-foreground",children:"Check Ratings"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Review feedback (",S,")"]})]}),(0,r.jsxs)("button",{className:"p-4 border border-border rounded-lg hover:bg-muted transition-colors text-left group",children:[(0,r.jsx)(l.Z,{className:"h-6 w-6 text-accent mb-2 group-hover:scale-110 transition-transform"}),(0,r.jsx)("p",{className:"font-medium text-foreground",children:"Storage Stats"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[U.toFixed(1)," GB used"]})]})]})})]})]}),!1]})}},65613:function(e,t,s){"use strict";s.d(t,{X:function(){return l},bZ:function(){return c}});var r=s(57437);s(2265);var a=s(90535),n=s(94508);let i=(0,a.j)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,n.cn)(i({variant:s}),t),...a})}function l(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"alert-description",className:(0,n.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...s})}},62869:function(e,t,s){"use strict";s.d(t,{z:function(){return l}});var r=s(57437);s(2265);var a=s(37053),n=s(90535),i=s(94508);let c=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:s,size:n,asChild:l=!1,...o}=e,d=l?a.g7:"button";return(0,r.jsx)(d,{"data-slot":"button",className:(0,i.cn)(c({variant:s,size:n,className:t})),...o})}},66070:function(e,t,s){"use strict";s.d(t,{Ol:function(){return i},Zb:function(){return n},aY:function(){return l},ll:function(){return c}});var r=s(57437);s(2265);var a=s(94508);function n(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function i(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function c(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",t),...s})}function l(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",t),...s})}},39667:function(e,t,s){"use strict";s.d(t,{BD:function(){return l},EE:function(){return c},ZE:function(){return u},ec:function(){return d},qx:function(){return i}});var r=s(23557),a=s(79523);let n=s(40257).env.NEXT_PUBLIC_API_BASE_URL||"https://api.api-ngin.oudom.dev/api",i=(0,r.LC)({reducerPath:"projectsApi",baseQuery:(0,a.ni)({baseUrl:n,prepareHeaders:e=>{let t=localStorage.getItem("token");return e.set("content-type","application/json"),t&&e.set("authorization","Bearer ".concat(t)),e}}),tagTypes:["Project"],endpoints:e=>({fetchProjects:e.query({query:()=>"/projects",providesTags:["Project"]}),createProject:e.mutation({query:e=>({url:"/projects",method:"POST",body:e}),invalidatesTags:["Project"]}),updateProject:e.mutation({query:e=>{let{id:t,data:s}=e;return{url:"/projects/".concat(t),method:"PUT",body:s}},invalidatesTags:["Project"]}),deleteProject:e.mutation({query:e=>({url:"/projects/".concat(e),method:"DELETE"}),invalidatesTags:["Project"]}),getProjectWithUser:e.query({query:e=>({url:"/projects/".concat(e,"/with-user"),method:"GET"})})})}),{useFetchProjectsQuery:c,useCreateProjectMutation:l,useUpdateProjectMutation:o,useDeleteProjectMutation:d,useGetProjectWithUserQuery:u}=i},98272:function(e,t,s){"use strict";s.d(t,{K0:function(){return x},c5:function(){return i},hU:function(){return l},nP:function(){return g},xG:function(){return c}});var r=s(23557),a=s(79523);let n=s(40257).env.NEXT_PUBLIC_API_BASE_URL||"https://api.api-ngin.oudom.dev/api",i=(0,r.LC)({reducerPath:"ratingsApi",baseQuery:(0,a.ni)({baseUrl:n,prepareHeaders:e=>{let t=localStorage.getItem("token");return e.set("content-type","application/json"),t&&e.set("authorization","Bearer ".concat(t)),e}}),tagTypes:["Rating","UserReviews"],endpoints:e=>({fetchRatings:e.query({query:e=>{let{page:t=1,search:s,rating:r,sentiment:a,status:n,size:i=10}=e,c=new URLSearchParams({page:(t-1).toString(),size:i.toString(),sortBy:"id",sortDir:"desc"});return s&&""!==s&&c.append("search",s),r&&"all"!==r&&c.append("rating",r),a&&"all"!==a&&c.append("sentiment",a),n&&"all"!==n&&c.append("status",n),"/reviews?".concat(c.toString())},transformResponse:e=>({ratings:e.content.map(e=>({...e,rating:e.star,comment:e.content,user:e.user||{id:e.id.toString(),name:e.username,email:"".concat(e.username,"@example.com")},project:e.project||{id:"1",name:"Default Project"},sentiment:e.sentiment||"neutral",status:e.status||"approved",createdAt:e.createdAt||new Date().toISOString()})),totalPages:e.totalPages,totalRatings:e.totalElements,currentPage:e.number+1}),providesTags:["Rating"]}),fetchReviewsByStar:e.query({query:e=>{let{star:t,page:s=1,size:r=10}=e,a=new URLSearchParams({page:(s-1).toString(),size:r.toString(),sortBy:"id",sortDir:"desc"});return"/reviews/star/".concat(t,"?").concat(a.toString())},transformResponse:e=>({ratings:e.content.map(e=>({...e,rating:e.star,comment:e.content,user:e.user||{id:e.id.toString(),name:e.username,email:"".concat(e.username,"@example.com")},project:e.project||{id:"1",name:"Default Project"},sentiment:e.sentiment||"neutral",status:e.status||"approved",createdAt:e.createdAt||new Date().toISOString()})),totalPages:e.totalPages,totalRatings:e.totalElements,currentPage:e.number+1}),providesTags:["Rating"]}),fetchRatingsByProject:e.query({query:e=>"/reviews/project/".concat(e),providesTags:["Rating"]}),fetchReviewsByUsername:e.query({query:e=>"/reviews/user/".concat(encodeURIComponent(e)),transformResponse:e=>{let t=[];return Array.isArray(e)?t=e:e&&"object"==typeof e&&"content"in e?t=e.content||[]:(console.warn("Unexpected response format for fetchReviewsByUsername:",e),t=[]),t.map(e=>({...e,rating:e.star,comment:e.content,user:e.user||{id:e.id.toString(),name:e.username,email:"".concat(e.username,"@example.com")},project:e.project||{id:"1",name:"Default Project"},sentiment:e.sentiment||"neutral",status:e.status||"approved",createdAt:e.createdAt||new Date().toISOString()}))},providesTags:["UserReviews"]}),createRating:e.mutation({query:e=>({url:"/reviews",method:"POST",body:{...e,star:e.rating,content:e.comment}}),invalidatesTags:["Rating"]}),updateRating:e.mutation({query:e=>{let{id:t,data:s}=e;return{url:"/reviews/".concat(t),method:"PUT",body:{...s,star:s.rating,content:s.comment}}},invalidatesTags:["Rating"]}),deleteRating:e.mutation({query:e=>({url:"/reviews/".concat(e),method:"DELETE"}),invalidatesTags:["Rating","UserReviews"]}),approveRating:e.mutation({query:e=>({url:"/reviews/".concat(e,"/approve"),method:"PATCH"}),invalidatesTags:["Rating"]}),rejectRating:e.mutation({query:e=>({url:"/reviews/".concat(e,"/reject"),method:"PATCH"}),invalidatesTags:["Rating"]})})}),{useFetchRatingsQuery:c,useFetchReviewsByStarQuery:l,useLazyFetchReviewsByStarQuery:o,useFetchRatingsByProjectQuery:d,useFetchReviewsByUsernameQuery:u,useLazyFetchReviewsByUsernameQuery:x,useCreateRatingMutation:m,useUpdateRatingMutation:h,useDeleteRatingMutation:g,useApproveRatingMutation:p,useRejectRatingMutation:j}=i},592:function(e,t,s){"use strict";s.d(t,{Cx:function(){return c},I1:function(){return o},Mk:function(){return l},UL:function(){return d},g8:function(){return i},kD:function(){return x},ku:function(){return u}});var r=s(23557),a=s(79523);let n=s(40257).env.NEXT_PUBLIC_API_BASE_URL||"https://api.api-ngin.oudom.dev/api",i=(0,r.LC)({reducerPath:"usersApi",baseQuery:(0,a.ni)({baseUrl:n,prepareHeaders:e=>{let t=localStorage.getItem("token");return e.set("content-type","application/json"),t&&e.set("authorization","Bearer ".concat(t)),e}}),tagTypes:["User"],endpoints:e=>({fetchUsers:e.query({query:()=>"/admin/users",providesTags:["User"]}),fetchUsersPaginated:e.query({query:e=>{let{page:t,size:s=10,search:r}=e;return new URLSearchParams({page:t.toString(),size:s.toString(),...r&&{search:r}}),"/admin/users/paginated"},providesTags:["User"]}),deleteUser:e.mutation({query:e=>({url:"/admin/users/".concat(e),method:"DELETE"}),invalidatesTags:["User"]}),addRoleToUser:e.mutation({query:e=>{let{keycloakUserId:t,roleName:s}=e;return{url:"/admin/users/".concat(t,"/roles/").concat(s),method:"POST"}},invalidatesTags:["User"]}),removeRoleFromUser:e.mutation({query:e=>{let{keycloakUserId:t,roleName:s}=e;return{url:"/admin/users/".concat(t,"/roles/").concat(s),method:"DELETE"}},invalidatesTags:["User"]}),updateUser:e.mutation({query:e=>{let{keycloakUserId:t,userData:s}=e;return{url:"/admin/users",method:"PUT",body:{keycloakUserId:t,...s}}},invalidatesTags:["User"]})})}),{useFetchUsersQuery:c,useFetchUsersPaginatedQuery:l,useDeleteUserMutation:o,useAddRoleToUserMutation:d,useRemoveRoleFromUserMutation:u,useUpdateUserMutation:x}=i},81175:function(e,t,s){"use strict";s.d(t,{C:function(){return n},T:function(){return a}});var r=s(68575);let a=r.I0.withTypes(),n=r.v9.withTypes()},94508:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(61994),a=s(53335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}}},function(e){e.O(0,[516,203,557,440,971,117,744],function(){return e(e.s=34039)}),_N_E=e.O()}]);