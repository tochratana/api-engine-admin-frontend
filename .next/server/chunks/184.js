exports.id=184,exports.ids=[184],exports.modules={4085:(e,t,a)=>{Promise.resolve().then(a.bind(a,4270)),Promise.resolve().then(a.bind(a,2995)),Promise.resolve().then(a.bind(a,5241))},6172:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,3642,23)),Promise.resolve().then(a.t.bind(a,7586,23)),Promise.resolve().then(a.t.bind(a,7838,23)),Promise.resolve().then(a.t.bind(a,8057,23)),Promise.resolve().then(a.t.bind(a,7741,23)),Promise.resolve().then(a.t.bind(a,3118,23))},4270:(e,t,a)=>{"use strict";a.d(t,{Providers:()=>m});var r=a(7247),s=a(3102),n=a(2749),o=a(4739),i=a(2245),l=a(1201),d=a(138),c=a(8871);let u=(0,n.xC)({reducer:{auth:o.ZP,storage:i.ZP,[l.g8.reducerPath]:l.g8.reducer,[d.qx.reducerPath]:d.qx.reducer,[c.c5.reducerPath]:c.c5.reducer},middleware:e=>e().concat(l.g8.middleware).concat(d.qx.middleware).concat(c.c5.middleware)});function m({children:e}){return r.jsx(s.zt,{store:u,children:e})}},2995:(e,t,a)=>{"use strict";a.d(t,{ThemeProvider:()=>n});var r=a(7247);a(8964);var s=a(7797);function n({children:e,...t}){return r.jsx(s.f,{...t,children:e})}},4739:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>d,fw:()=>i,kS:()=>o,pH:()=>s});var r=a(2749);let s=(0,r.hg)("auth/loginUser",async(e,{rejectWithValue:t})=>{try{console.log("[v0] Making API call to login endpoint");let a=await fetch("https://api.api-ngin.oudom.dev/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(console.log("[v0] API response status:",a.status),!a.ok){let e=await a.json();return console.log("[v0] API error response:",e),t(e.message||"Login failed")}let r=await a.json();console.log("[v0] API success response:",r);let s=r?.token??r?.accessToken??r?.access_token??r?.jwt??r?.idToken??r?.id_token??(r?.data&&(r.data.token||r.data.accessToken||r.data.access_token));if(console.log("[v0] Detected login token:",s?`${String(s).substring(0,20)}...`:"(none)"),!s)return console.log("[v0] Login response did not include a token; rejecting login"),t("Authentication token missing from server response");let n={id:r.user?.id||r.userId||"unknown",email:e.usernameOrEmail,name:r.user?.name||r.user?.displayName||e.usernameOrEmail.split("@")[0],username:r.user?.username,firstName:r.user?.firstName,lastName:r.user?.lastName};return{token:s,...r,user:n}}catch(e){return console.log("[v0] Network error:",e),t("Network error occurred")}}),n=(0,r.oM)({name:"auth",initialState:{user:null,token:null,isLoading:!1,error:null},reducers:{logout:e=>{e.user=null,e.token=null,e.error=null},clearError:e=>{e.error=null},setUserFromStorage:(e,t)=>{e.user=t.payload.user,e.token=t.payload.token}},extraReducers:e=>{e.addCase(s.pending,e=>{e.isLoading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{e.isLoading=!1,e.user=t.payload.user,e.token=t.payload.token}).addCase(s.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}),{logout:o,clearError:i,setUserFromStorage:l}=n.actions,d=n.reducer},138:(e,t,a)=>{"use strict";a.d(t,{BD:()=>l,EE:()=>i,ZE:()=>u,ec:()=>c,qx:()=>o});var r=a(7125),s=a(806);let n=process.env.NEXT_PUBLIC_API_BASE_URL||"https://api.api-ngin.oudom.dev/api",o=(0,r.LC)({reducerPath:"projectsApi",baseQuery:(0,s.ni)({baseUrl:n,prepareHeaders:e=>(e.set("content-type","application/json"),e)}),tagTypes:["Project"],endpoints:e=>({fetchProjects:e.query({query:()=>"/projects",providesTags:["Project"]}),createProject:e.mutation({query:e=>({url:"/projects",method:"POST",body:e}),invalidatesTags:["Project"]}),updateProject:e.mutation({query:({id:e,data:t})=>({url:`/projects/${e}`,method:"PUT",body:t}),invalidatesTags:["Project"]}),deleteProject:e.mutation({query:e=>({url:`/projects/${e}`,method:"DELETE"}),invalidatesTags:["Project"]}),getProjectWithUser:e.query({query:e=>({url:`/projects/${e}/with-user`,method:"GET"})})})}),{useFetchProjectsQuery:i,useCreateProjectMutation:l,useUpdateProjectMutation:d,useDeleteProjectMutation:c,useGetProjectWithUserQuery:u}=o},8871:(e,t,a)=>{"use strict";a.d(t,{K0:()=>m,c5:()=>o,hU:()=>l,nP:()=>h,xG:()=>i});var r=a(7125),s=a(806);let n=process.env.NEXT_PUBLIC_API_BASE_URL||"https://api.api-ngin.oudom.dev/api",o=(0,r.LC)({reducerPath:"ratingsApi",baseQuery:(0,s.ni)({baseUrl:n,prepareHeaders:e=>(e.set("content-type","application/json"),e)}),tagTypes:["Rating","UserReviews"],endpoints:e=>({fetchRatings:e.query({query:({page:e=1,search:t,rating:a,sentiment:r,status:s,size:n=10})=>{let o=new URLSearchParams({page:(e-1).toString(),size:n.toString(),sortBy:"id",sortDir:"desc"});return t&&""!==t&&o.append("search",t),a&&"all"!==a&&o.append("rating",a),r&&"all"!==r&&o.append("sentiment",r),s&&"all"!==s&&o.append("status",s),`/reviews?${o.toString()}`},transformResponse:e=>({ratings:e.content.map(e=>({...e,rating:e.star,comment:e.content,user:e.user||{id:e.id.toString(),name:e.username,email:`${e.username}@example.com`},project:e.project||{id:"1",name:"Default Project"},sentiment:e.sentiment||"neutral",status:e.status||"approved",createdAt:e.createdAt||new Date().toISOString()})),totalPages:e.totalPages,totalRatings:e.totalElements,currentPage:e.number+1}),providesTags:["Rating"]}),fetchReviewsByStar:e.query({query:({star:e,page:t=1,size:a=10})=>{let r=new URLSearchParams({page:(t-1).toString(),size:a.toString(),sortBy:"id",sortDir:"desc"});return`/reviews/star/${e}?${r.toString()}`},transformResponse:e=>({ratings:e.content.map(e=>({...e,rating:e.star,comment:e.content,user:e.user||{id:e.id.toString(),name:e.username,email:`${e.username}@example.com`},project:e.project||{id:"1",name:"Default Project"},sentiment:e.sentiment||"neutral",status:e.status||"approved",createdAt:e.createdAt||new Date().toISOString()})),totalPages:e.totalPages,totalRatings:e.totalElements,currentPage:e.number+1}),providesTags:["Rating"]}),fetchRatingsByProject:e.query({query:e=>`/reviews/project/${e}`,providesTags:["Rating"]}),fetchReviewsByUsername:e.query({query:e=>`/reviews/user/${encodeURIComponent(e)}`,transformResponse:e=>{let t=[];return Array.isArray(e)?t=e:e&&"object"==typeof e&&"content"in e?t=e.content||[]:(console.warn("Unexpected response format for fetchReviewsByUsername:",e),t=[]),t.map(e=>({...e,rating:e.star,comment:e.content,user:e.user||{id:e.id.toString(),name:e.username,email:`${e.username}@example.com`},project:e.project||{id:"1",name:"Default Project"},sentiment:e.sentiment||"neutral",status:e.status||"approved",createdAt:e.createdAt||new Date().toISOString()}))},providesTags:["UserReviews"]}),createRating:e.mutation({query:e=>({url:"/reviews",method:"POST",body:{...e,star:e.rating,content:e.comment}}),invalidatesTags:["Rating"]}),updateRating:e.mutation({query:({id:e,data:t})=>({url:`/reviews/${e}`,method:"PUT",body:{...t,star:t.rating,content:t.comment}}),invalidatesTags:["Rating"]}),deleteRating:e.mutation({query:e=>({url:`/reviews/${e}`,method:"DELETE"}),invalidatesTags:["Rating","UserReviews"]}),approveRating:e.mutation({query:e=>({url:`/reviews/${e}/approve`,method:"PATCH"}),invalidatesTags:["Rating"]}),rejectRating:e.mutation({query:e=>({url:`/reviews/${e}/reject`,method:"PATCH"}),invalidatesTags:["Rating"]})})}),{useFetchRatingsQuery:i,useFetchReviewsByStarQuery:l,useLazyFetchReviewsByStarQuery:d,useFetchRatingsByProjectQuery:c,useFetchReviewsByUsernameQuery:u,useLazyFetchReviewsByUsernameQuery:m,useCreateRatingMutation:p,useUpdateRatingMutation:g,useDeleteRatingMutation:h,useApproveRatingMutation:y,useRejectRatingMutation:v}=o},2245:(e,t,a)=>{"use strict";a.d(t,{Cl:()=>i,D4:()=>n,Sl:()=>c,ZP:()=>m,bI:()=>d,jk:()=>l});var r=a(2749);let s=[{id:"1",name:"E-commerce Platform",type:"project",owner:{id:"1",name:"John Doe",email:"john@example.com"},size:2.5,quota:5,files:1247,lastAccessed:"2024-01-20T14:30:00Z",createdAt:"2024-01-15T10:00:00Z",status:"active"},{id:"2",name:"Mobile Banking App",type:"project",owner:{id:"2",name:"Sarah Smith",email:"sarah@example.com"},size:1.8,quota:3,files:892,lastAccessed:"2024-01-19T16:45:00Z",createdAt:"2024-01-10T09:00:00Z",status:"active"},{id:"3",name:"Analytics API",type:"project",owner:{id:"3",name:"Mike Johnson",email:"mike@example.com"},size:.9,quota:2,files:456,lastAccessed:"2024-01-18T13:15:00Z",createdAt:"2024-01-05T11:30:00Z",status:"active"},{id:"4",name:"User Database",type:"project",owner:{id:"4",name:"Emily Davis",email:"emily@example.com"},size:5.2,quota:10,files:2341,lastAccessed:"2024-01-17T10:20:00Z",createdAt:"2024-01-01T08:00:00Z",status:"archived"},{id:"5",name:"Legacy System Backup",type:"system",owner:{id:"5",name:"System Admin",email:"admin@example.com"},size:12.7,quota:15,files:5678,lastAccessed:"2024-01-15T08:00:00Z",createdAt:"2023-12-01T00:00:00Z",status:"cleanup_pending"},{id:"6",name:"User Assets - Alex Wilson",type:"user",owner:{id:"6",name:"Alex Wilson",email:"alex@example.com"},size:.3,quota:1,files:89,lastAccessed:"2024-01-20T12:00:00Z",createdAt:"2024-01-16T14:25:00Z",status:"active"}],n=(0,r.hg)("storage/fetchStorageData",async(e={},{rejectWithValue:t})=>{try{await new Promise(e=>setTimeout(e,700));let t=[...s];e.search&&(t=t.filter(t=>t.name.toLowerCase().includes(e.search.toLowerCase())||t.owner.name.toLowerCase().includes(e.search.toLowerCase())||t.owner.email.toLowerCase().includes(e.search.toLowerCase()))),e.type&&"all"!==e.type&&(t=t.filter(t=>t.type===e.type)),e.status&&"all"!==e.status&&(t=t.filter(t=>t.status===e.status)),t.sort((e,t)=>t.size-e.size);let a={totalUsed:s.reduce((e,t)=>e+t.size,0),totalQuota:s.reduce((e,t)=>e+t.quota,0),totalFiles:s.reduce((e,t)=>e+t.files,0),activeProjects:s.filter(e=>"active"===e.status).length,archivedProjects:s.filter(e=>"archived"===e.status).length,cleanupPending:s.filter(e=>"cleanup_pending"===e.status).length},r=((e.page||1)-1)*10;return{items:t.slice(r,r+10),stats:a,total:t.length,totalPages:Math.ceil(t.length/10)}}catch(e){return t("Failed to fetch storage data")}}),o=(0,r.oM)({name:"storage",initialState:{items:[],stats:{totalUsed:0,totalQuota:0,totalFiles:0,activeProjects:0,archivedProjects:0,cleanupPending:0},isLoading:!1,error:null,searchTerm:"",typeFilter:"all",statusFilter:"all",currentPage:1,totalPages:1,totalItems:0},reducers:{setSearchTerm:(e,t)=>{e.searchTerm=t.payload,e.currentPage=1},setTypeFilter:(e,t)=>{e.typeFilter=t.payload,e.currentPage=1},setStatusFilter:(e,t)=>{e.statusFilter=t.payload,e.currentPage=1},setCurrentPage:(e,t)=>{e.currentPage=t.payload},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(n.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.fulfilled,(e,t)=>{e.isLoading=!1,e.items=t.payload.items,e.stats=t.payload.stats,e.totalItems=t.payload.total,e.totalPages=t.payload.totalPages}).addCase(n.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}),{setSearchTerm:i,setTypeFilter:l,setStatusFilter:d,setCurrentPage:c,clearError:u}=o.actions,m=o.reducer},1201:(e,t,a)=>{"use strict";a.d(t,{Cx:()=>i,I1:()=>d,Mk:()=>l,UL:()=>c,g8:()=>o,kD:()=>m,ku:()=>u});var r=a(7125),s=a(806);let n=process.env.NEXT_PUBLIC_API_BASE_URL||"https://api.api-ngin.oudom.dev/api",o=(0,r.LC)({reducerPath:"usersApi",baseQuery:(0,s.ni)({baseUrl:n,prepareHeaders:e=>(e.set("content-type","application/json"),e)}),tagTypes:["User"],endpoints:e=>({fetchUsers:e.query({query:()=>"/admin/users",providesTags:["User"]}),fetchUsersPaginated:e.query({query:({page:e,size:t=10,search:a})=>(new URLSearchParams({page:e.toString(),size:t.toString(),...a&&{search:a}}),"/admin/users/paginated"),providesTags:["User"]}),deleteUser:e.mutation({query:e=>({url:`/admin/users/${e}`,method:"DELETE"}),invalidatesTags:["User"]}),addRoleToUser:e.mutation({query:({keycloakUserId:e,roleName:t})=>({url:`/admin/users/${e}/roles/${t}`,method:"POST"}),invalidatesTags:["User"]}),removeRoleFromUser:e.mutation({query:({keycloakUserId:e,roleName:t})=>({url:`/admin/users/${e}/roles/${t}`,method:"DELETE"}),invalidatesTags:["User"]}),updateUser:e.mutation({query:({keycloakUserId:e,userData:t})=>({url:"/admin/users",method:"PUT",body:{keycloakUserId:e,...t}}),invalidatesTags:["User"]})})}),{useFetchUsersQuery:i,useFetchUsersPaginatedQuery:l,useDeleteUserMutation:d,useAddRoleToUserMutation:c,useRemoveRoleFromUserMutation:u,useUpdateUserMutation:m}=o},6562:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g,metadata:()=>p});var r=a(2051),s=a(1563),n=a.n(s),o=a(761),i=a.n(o),l=a(4924),d=a(5347);let c=(0,d.createProxy)(String.raw`/Users/tochratana/Project/api-engine-admin-frontend/components/theme-provider.tsx#ThemeProvider`),u=(0,d.createProxy)(String.raw`/Users/tochratana/Project/api-engine-admin-frontend/components/providers.tsx#Providers`);var m=a(6269);a(7272);let p={title:"Admin Dashboard",description:"Modern Admin Dashboard for Project Management",generator:"v0.app"};function g({children:e}){return r.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:(0,r.jsxs)("body",{className:`font-sans ${n().variable} ${i().variable}`,children:[r.jsx(m.Suspense,{fallback:null,children:r.jsx(c,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!1,children:r.jsx(u,{children:e})})}),r.jsx(l.c,{})]})})}},7272:()=>{}};