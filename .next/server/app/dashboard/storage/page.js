(()=>{var e={};e.id=158,e.ids=[158],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8379:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c}),t(4325),t(4514),t(6562),t(996);var a=t(170),r=t(5002),l=t(3876),n=t.n(l),d=t(6299),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);t.d(s,i);let c=["",{children:["dashboard",{children:["storage",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4325)),"/Users/tochratana/Project/api-engine-admin-frontend/app/dashboard/storage/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4514)),"/Users/tochratana/Project/api-engine-admin-frontend/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,6562)),"/Users/tochratana/Project/api-engine-admin-frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,996,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/tochratana/Project/api-engine-admin-frontend/app/dashboard/storage/page.tsx"],x="/dashboard/storage/page",u={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/storage/page",pathname:"/dashboard/storage",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3679:(e,s,t)=>{Promise.resolve().then(t.bind(t,2194))},2194:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Z});var a=t(7247);t(8964);var r=t(8210),l=t(2245),n=t(9881),d=t(8931),i=t(1531),c=t(5008);function o({value:e,max:s,className:t,showLabel:r=!1,size:l="md",variant:n="default"}){let d=Math.min(e/s*100,100);return(0,a.jsxs)("div",{className:(0,c.cn)("space-y-1",t),children:[r&&(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{children:[e.toFixed(1)," GB"]}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[s.toFixed(1)," GB"]})]}),a.jsx("div",{className:(0,c.cn)("w-full bg-muted rounded-full overflow-hidden",{sm:"h-2",md:"h-3",lg:"h-4"}[l]),children:a.jsx("div",{className:(0,c.cn)("h-full transition-all duration-300 rounded-full","default"===n?d>=90?"bg-red-500":d>=75?"bg-yellow-500":"bg-accent":({default:"bg-accent",warning:"bg-yellow-500",danger:"bg-red-500"})[n]),style:{width:`${d}%`}})}),r&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground text-right",children:[d.toFixed(1),"% used"]})]})}var x=t(1365),u=t(7757),h=t(8053),m=t(2502),p=t(6323);let g=(0,p.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var j=t(5271);let f=(0,p.Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),v=(0,p.Z)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);var b=t(8339),y=t(3841),N=t(9205),w=t(6148);let k=(0,p.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var P=t(906);function Z(){let e=(0,r.T)(),{items:s,stats:t,isLoading:c,error:p,searchTerm:Z,typeFilter:A,statusFilter:S,currentPage:_,totalPages:C,totalItems:U}=(0,r.C)(e=>e.storage),{toast:q}=(0,P.pm)(),M=e=>{switch(e){case"project":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"user":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"system":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},z=e=>{switch(e){case"project":return g;case"user":return j.Z;case"system":return f;default:return v}},F=e=>{switch(e){case"active":return"default";case"archived":default:return"secondary";case"cleanup_pending":return"destructive"}},G=[{key:"name",label:"Name",render:(e,s)=>{let t=z(s.type);return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(t,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium",children:e}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[s.files.toLocaleString()," files"]})]})]})}},{key:"owner",label:"Owner",render:e=>(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium",children:e.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.email})]})},{key:"type",label:"Type",render:e=>a.jsx(x.C,{className:M(e),children:e.toUpperCase()})},{key:"size",label:"Usage",render:(e,s)=>a.jsx("div",{className:"w-32",children:a.jsx(o,{value:e,max:s.quota,showLabel:!0,size:"sm"})})},{key:"status",label:"Status",render:e=>a.jsx(x.C,{variant:F(e),children:e.replace("_"," ")})},{key:"lastAccessed",label:"Last Accessed",render:e=>a.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(e).toLocaleDateString()})}],O=t.totalUsed/t.totalQuota*100;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Storage Management"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Monitor and manage storage usage across all projects"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(h.z,{variant:"outline",onClick:()=>{e((0,l.D4)({page:_,search:Z,type:A,status:S}))},disabled:c,children:[a.jsx(b.Z,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),(0,a.jsxs)(h.z,{variant:"outline",children:[a.jsx(y.Z,{className:"h-4 w-4 mr-2"}),"Cleanup"]})]})]}),(0,a.jsxs)(u.Zb,{children:[a.jsx(u.Ol,{children:(0,a.jsxs)(u.ll,{className:"flex items-center space-x-2",children:[a.jsx(N.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Overall Storage Usage"})]})}),a.jsx(u.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(o,{value:t.totalUsed,max:t.totalQuota,showLabel:!0,size:"lg"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Used"}),(0,a.jsxs)("p",{className:"font-semibold",children:[t.totalUsed.toFixed(1)," GB"]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Available"}),(0,a.jsxs)("p",{className:"font-semibold",children:[(t.totalQuota-t.totalUsed).toFixed(1)," GB"]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Total Files"}),a.jsx("p",{className:"font-semibold",children:t.totalFiles.toLocaleString()})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Usage"}),(0,a.jsxs)("p",{className:"font-semibold",children:[O.toFixed(1),"%"]})]})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(u.ll,{className:"text-sm font-medium",children:"Total Storage"}),a.jsx(N.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(u.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[t.totalUsed.toFixed(1)," GB"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["of ",t.totalQuota.toFixed(1)," GB quota"]})]})]}),(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(u.ll,{className:"text-sm font-medium",children:"Active Projects"}),a.jsx(g,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(u.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:t.activeProjects}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently using storage"})]})]}),(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(u.ll,{className:"text-sm font-medium",children:"Archived Items"}),a.jsx(w.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(u.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:t.archivedProjects}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready for cleanup"})]})]}),(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(u.ll,{className:"text-sm font-medium",children:"Cleanup Pending"}),a.jsx(k,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(u.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:t.cleanupPending}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires attention"})]})]})]}),p&&a.jsx(m.bZ,{variant:"destructive",children:a.jsx(m.X,{children:p})}),(0,a.jsxs)(u.Zb,{children:[a.jsx(u.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(u.ll,{children:"Storage Items"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(i.z,{placeholder:"Filter by type",value:A,onValueChange:s=>{e((0,l.jk)(s))},options:[{value:"all",label:"All Types"},{value:"project",label:"Projects"},{value:"user",label:"Users"},{value:"system",label:"System"}]}),a.jsx(i.z,{placeholder:"Filter by status",value:S,onValueChange:s=>{e((0,l.bI)(s))},options:[{value:"all",label:"All Status"},{value:"active",label:"Active"},{value:"archived",label:"Archived"},{value:"cleanup_pending",label:"Cleanup Pending"}]})]})]})}),(0,a.jsxs)(u.aY,{children:[a.jsx(n.w,{data:s,columns:G,searchPlaceholder:"Search storage items...",onSearch:s=>{e((0,l.Cl)(s))},onView:e=>{q({title:"Storage Details",description:`Viewing storage details for ${e.name}`})},onEdit:e=>{q({title:"Cleanup Storage",description:`Initiating cleanup for ${e.name}`})},onDelete:e=>{q({title:"Archive Storage",description:`Archiving ${e.name}`})},isLoading:c}),C>1&&a.jsx("div",{className:"mt-6",children:a.jsx(d.t,{currentPage:_,totalPages:C,onPageChange:s=>{e((0,l.Sl)(s))}})})]})]})]})}},1531:(e,s,t)=>{"use strict";t.d(s,{z:()=>l});var a=t(7247),r=t(4049);function l({placeholder:e,value:s,onValueChange:t,options:l}){return(0,a.jsxs)(r.Ph,{value:s,onValueChange:t,children:[a.jsx(r.i4,{className:"w-[180px]",children:a.jsx(r.ki,{placeholder:e})}),a.jsx(r.Bw,{children:l.map(e=>a.jsx(r.Ql,{value:e.value,children:e.label},e.value))})]})}},6148:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6323).Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]])},5271:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6323).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4325:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(5347).createProxy)(String.raw`/Users/tochratana/Project/api-engine-admin-frontend/app/dashboard/storage/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[926,413,972,402,184,714,266],()=>t(8379));module.exports=a})();